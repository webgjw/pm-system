import{a as i,o as _,q as g,w as t,e as l,E as b,f as r,g as E,h as V,i as h,t as y,j as v,r as x,B as k,A as q,k as B,m as P}from"./index-BmeCGnl5.js";/* empty css                     */const U={__name:"ChangePsw",setup(C){const{t:e}=i(),n=B(),o=x({password:"",npassword:"",cfpassword:""}),m=P(()=>({password:{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"},npassword:[{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"}],cfpassword:[{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"},{validator:(u,s,a)=>{s!==o.npassword?a(new Error(e("form.cfpasswordError"))):a()},trigger:"blur"}]}));function f(){n.value.validate(u=>{if(!u)return;const{password:s,npassword:a}=o;k({password:s,npassword:a}).then(()=>{q.success(e("tips.success")),n.value.resetFields()})})}return(u,s)=>{const a=E,p=b,w=V,c=v;return _(),g(c,{ref_key:"formRef",ref:n,model:r(o),rules:r(m),"label-width":"150px",class:"form"},{default:t(()=>[l(p,{label:r(e)("form.currPassword"),prop:"password"},{default:t(()=>[l(a,{modelValue:r(o).password,"onUpdate:modelValue":s[0]||(s[0]=d=>r(o).password=d),type:"password",placeholder:r(e)("form.currPassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(e)("form.npassword"),prop:"npassword"},{default:t(()=>[l(a,{modelValue:r(o).npassword,"onUpdate:modelValue":s[1]||(s[1]=d=>r(o).npassword=d),type:"password",placeholder:r(e)("form.npassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(e)("form.cfpassword"),prop:"cfpassword"},{default:t(()=>[l(a,{modelValue:r(o).cfpassword,"onUpdate:modelValue":s[2]||(s[2]=d=>r(o).cfpassword=d),type:"password",placeholder:r(e)("form.cfpassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(w,{type:"primary",class:"w100p",onClick:f},{default:t(()=>[h(y(r(e)("action.submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}};export{U as default};
