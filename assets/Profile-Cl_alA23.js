import{a as V,b as x,p as B,o as s,q as m,w as t,e as c,E as F,f as e,d as w,t as _,s as N,c as R,F as S,v as q,x as C,h as P,i as j,y as z,j as A,r as D,m as d,z as L,A as M,k as O}from"./index-BmeCGnl5.js";/* empty css                     */const H={__name:"Profile",setup(T){const{t:o}=V(),b=x(),i=O(),l=D({name:"",roleId:""}),r=d(()=>b.state.user.userInfo),n=d(()=>r.value.createdBy==="system"),y=d(()=>({roleId:{required:!0,message:o("form.roleRequired"),trigger:"blur"}}));B(r,()=>{g()},{immediate:!0});function g(){l.name=r.value.name,l.roleId=r.value.roleId}function I(){i.value.validate(u=>{u&&L({...l}).then(()=>{M.success(o("tips.success"))})})}return(u,p)=>{const f=F,h=C,v=N,k=P,E=A;return s(),m(E,{ref_key:"formRef",ref:i,model:e(l),rules:e(y),"label-width":"80px","label-position":"left"},{default:t(()=>[c(f,{label:e(o)("form.username")},{default:t(()=>[w("label",null,_(e(l).name),1)]),_:1},8,["label"]),c(f,{label:e(o)("form.group"),prop:e(n)?"":"roleId"},{default:t(()=>[c(v,{modelValue:e(l).roleId,"onUpdate:modelValue":p[0]||(p[0]=a=>e(l).roleId=a),disabled:e(n),placeholder:e(o)("form.choose"),style:{"margin-right":"10px"}},{default:t(()=>[(s(!0),R(S,null,q(u.roels,a=>(s(),m(h,{key:a.name,label:a.label,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder"]),e(n)?z("",!0):(s(),m(k,{key:0,type:"primary",onClick:I},{default:t(()=>[j(_(e(o)("action.apply")),1)]),_:1}))]),_:1},8,["label","prop"])]),_:1},8,["model","rules"])}}};export{H as default};
